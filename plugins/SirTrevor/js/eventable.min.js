(function(){function h(b,c){var a,d=-1,e=b.length,f=c[0],p=c[1],g=c[2];switch(c.length){case 0:for(;++d<e;)(a=b[d]).b.call(a.c);break;case 1:for(;++d<e;)(a=b[d]).b.call(a.c,f);break;case 2:for(;++d<e;)(a=b[d]).b.call(a.c,f,p);break;case 3:for(;++d<e;)(a=b[d]).b.call(a.c,f,p,g);break;default:for(;++d<e;)(a=b[d]).b.apply(a.c,c)}}function m(b,c,a,d){if(!a)return!0;if("object"===typeof a){for(var e in a)b[c].apply(b,[e,a[e]].concat(d));return!1}if(k.test(a)){a=a.split(k);e=0;for(var f=a.length;e<f;e++)b[c].apply(b,
[a[e]].concat(d));return!1}return!0}var q=[].slice,g={g:function(b,c,a){if(!m(this,"on",b,[c,a])||!c)return this;this.a||(this.a={});(this.a[b]||(this.a[b]=[])).push({b:c,i:a,c:a||this});return this},j:function(b,c,a){if(!m(this,"once",b,[c,a])||!c)return this;var d=this,e=_.j(function(){d.e(b,e);c.apply(this,arguments)});e.h=c;return this.g(b,e,a)},e:function(b,c,a){var d,e,f,g,l,h,n,k;if(!this.a||!m(this,"off",b,[c,a]))return this;if(!b&&!c&&!a)return this.a={},this;g=b?[b]:_.keys(this.a);l=0;for(h=
g.length;l<h;l++)if(b=g[l],f=this.a[b]){this.a[b]=d=[];if(c||a)for(n=0,k=f.length;n<k;n++)e=f[n],(c&&c!==e.b&&c!==e.b.h||a&&a!==e.i)&&d.push(e);d.length||delete this.a[b]}return this},p:function(b){if(!this.a)return this;var c=q.call(arguments,1);if(!m(this,"trigger",b,c))return this;var a=this.a[b],d=this.a.all;a&&h(a,c);d&&h(d,arguments);return this},o:function(b,c,a){var d=this.d;if(!d)return this;var e=!c&&!a;"object"===typeof c&&(a=this);b&&((d={})[b.f]=b);for(var f in d)d[f].e(c,a,this),e&&
delete this.d[f];return this}},k=/\s+/;_.l({m:"on",n:"once"},function(b,c){g[c]=function(a,c,e){var f=this.d||(this.d={}),g=a.f||(a.f=_.r("l"));f[g]=a;"object"===typeof c&&(e=this);a[b](c,e,this);return this}});g.bind=g.g;g.q=g.e;"undefined"!==typeof define&&"function"===typeof define&&define.k&&define("eventable",[],function(){return g})})();
